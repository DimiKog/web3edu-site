import{u as k,r as n,j as e}from"./vendor-react-XZtyZRd7.js";import{s as v,P as j}from"./index-BPehdvbu.js";import{Q as N}from"./index-BPEEE-Za.js";import{i as w}from"./identity-icon-MXImXT_G.js";import{u as y}from"./vendor-web3-Dys35WFk.js";function B(){const{address:r,isConnected:c}=y(),m=k(),[o,l]=n.useState(!0),[x,g]=n.useState(""),[t,b]=n.useState(null);n.useEffect(()=>{if(!c){m("/join");return}window.scrollTo(0,0)},[c,m]),n.useEffect(()=>{if(!r)return;const d="https://web3edu-api.dimikog.org";l(!0),g(""),fetch(`${d}/web3sbt/resolve/${r}`).then(a=>{if(!a.ok)throw new Error(`HTTP ${a.status}`);return a.json()}).then(a=>{b(a),a?.metadata?.tier&&localStorage.setItem("web3edu_tier",a.metadata.tier),l(!1)}).catch(a=>{console.error("Failed to fetch SBT profile:",a),g("Could not load your SBT passport."),l(!1)})},[r]);const f=v(r),u=()=>{i&&navigator.clipboard.writeText(i).catch(d=>console.error("Clipboard error:",d))},s=t?.metadata?.tier,p=t?.metadata?.badges??[],h=(()=>{const d=[t?.tokenId,t?.token_id,t?.tokenID,t?.metadata?.tokenId,t?.metadata?.token_id,t?.profile?.tokenId,t?.profile?.token_id,t?.metadata?.metadata?.tokenId,t?.metadata?.metadata?.token_id,t?.profile?.metadata?.tokenId,t?.profile?.metadata?.token_id];for(const a of d)if(a!=null&&a!=="")return a;return null})(),i=r?`https://web3edu.dimikog.org/#/verify/${r}`:"";return e.jsx(j,{children:e.jsxs("div",{className:`min-h-screen flex flex-col items-center px-2 sm:px-6 py-16
                bg-gradient-to-br from-[#F5F2FF] via-[#EDE7FF] to-[#F8F6FF] dark:from-[#090C14] dark:via-[#120A1E] dark:to-[#020617] text-white`,children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-[18%] left-[35%] w-[420px] h-[420px] bg-[#7F3DF1]/25 blur-[150px] rounded-full"}),e.jsx("div",{className:"absolute bottom-[10%] right-[20%] w-[360px] h-[360px] bg-[#33D6FF]/20 blur-[130px] rounded-full"})]}),e.jsxs("div",{className:"relative z-10 mb-8 text-center max-w-2xl",children:[e.jsx("h1",{className:"text-center text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900 dark:text-white drop-shadow-sm",children:"Web3Edu Identity Passport"}),e.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-indigo-700 dark:text-indigo-300 font-medium",children:["Issued to: ",t?.profile?.name??"Web3Edu Learner"]}),e.jsx("p",{className:"mt-2 text-center text-sm sm:text-base text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Your non-transferable Soulbound Identity on Web3Edu Edu-Net."})]}),o&&e.jsx("p",{className:"relative z-10 text-white/70",children:"Loading your SBT passport…"}),x&&!o&&e.jsx("p",{className:"relative z-10 text-red-300",children:x}),!o&&!x&&t&&e.jsxs("div",{className:`
                            relative z-10 max-w-3xl w-full 
                            rounded-3xl border border-indigo-300/40 dark:border-indigo-700/30
                            shadow-[0_12px_40px_rgba(0,0,0,0.35)]
                            bg-gradient-to-br from-white via-indigo-50/40 to-slate-100/60
                            dark:bg-gradient-to-br dark:from-slate-900 dark:via-indigo-950/20 dark:to-slate-900/40
                            backdrop-blur-2xl p-6 sm:p-8
                            text-slate-800 dark:text-slate-200
                        `,children:[e.jsx("div",{className:`pointer-events-none absolute inset-0 rounded-3xl opacity-[0.06] mix-blend-overlay 
    bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat`}),t?.profile?.founder&&e.jsx("div",{className:"absolute -top-4 -right-4 z-30 scale-110",children:e.jsx("div",{className:`
                                        relative px-4 py-1.5 rounded-lg border border-white/20 shadow-xl
                                        text-white text-[11px] font-bold tracking-wide
                                        bg-gradient-to-r from-purple-600 via-fuchsia-500 to-pink-500
                                        animate-founder-shimmer
                                    `,children:"⭐ FOUNDER ⭐"})}),e.jsxs("div",{className:"relative flex items-center gap-6 mb-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-2 bg-indigo-500/20 blur-xl rounded-full"}),e.jsx("div",{className:`relative w-24 h-24 rounded-full overflow-hidden shadow-xl 
            ring-2 ring-indigo-300/60 dark:ring-indigo-700/60 bg-black/10`,children:e.jsx("img",{src:t?.profile?.avatar&&t.profile.avatar.trim()!==""?t.profile.avatar:t?.profile?.image&&t.profile.image.trim()!==""?t.profile.image:w,alt:"Identity avatar",className:"w-full h-full object-cover",loading:"lazy"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-indigo-600 dark:text-indigo-300",children:"Soulbound Identity"}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap mt-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:t?.profile?.name??"Web3Edu Identity SBT"}),s&&e.jsx("span",{className:`
                                            px-3 py-0.5 rounded-full text-[11px] font-bold
                                            bg-gradient-to-r from-indigo-300/50 to-indigo-500/40
                                            dark:bg-gradient-to-r dark:from-indigo-700/50 dark:to-indigo-900/40
                                            border border-indigo-400/40 dark:border-indigo-800/50
                                            text-indigo-800 dark:text-indigo-200
                                        `,children:s})]}),e.jsxs("p",{className:"text-xs font-mono text-slate-700 dark:text-slate-300 mt-1",children:["Wallet: ",f]})]})]}),e.jsxs("div",{className:`rounded-2xl border border-indigo-200/40 dark:border-indigo-800/40
                            bg-gradient-to-br from-white/90 to-indigo-100/40
                            dark:bg-gradient-to-br dark:from-slate-900/70 dark:via-indigo-900/30 dark:to-slate-900/60
                            shadow-md backdrop-blur-xl p-5 mb-6
                            text-slate-700 dark:text-slate-200
                        `,children:[e.jsx("h2",{className:"text-xs font-semibold tracking-wider uppercase text-slate-600 dark:text-slate-300 mb-4",children:"Identity Details"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-indigo-700 dark:text-indigo-300",children:"Token Type"}),e.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Soulbound (non‑transferable)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-indigo-700 dark:text-indigo-300",children:"Standard"}),e.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"ERC‑721 (SBT)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-indigo-700 dark:text-indigo-300",children:"Wallet Address"}),e.jsx("p",{className:"font-mono text-xs text-slate-900 dark:text-slate-100 break-all",children:r})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-indigo-700 dark:text-indigo-300",children:"Token ID"}),e.jsxs("p",{className:"font-mono text-xs text-slate-900 dark:text-slate-100",children:[h??"Not assigned",t?.profile?.edition&&e.jsx("span",{className:`
            inline-block ml-2 px-2 py-0.5 rounded-full text-[10px] font-medium
            bg-gradient-to-r from-fuchsia-100 to-fuchsia-200
            dark:from-fuchsia-900/40 dark:to-fuchsia-800/40
            border border-fuchsia-300/40 dark:border-fuchsia-700/40
            text-slate-700 dark:text-slate-200
        `,children:t.profile.edition})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-indigo-700 dark:text-indigo-300",children:"Tier"}),e.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:s??"Explorer"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-indigo-700 dark:text-indigo-300",children:"Badges"}),p.length>0?e.jsx("ul",{className:"mt-1 flex flex-wrap gap-1",children:p.map((d,a)=>e.jsx("li",{className:"px-2 py-0.5 rounded-full text-[11px] bg-indigo-200/40 dark:bg-indigo-900/40 border border-indigo-300/40 dark:border-indigo-700/40 text-slate-900 dark:text-slate-100",children:d},a))}):e.jsx("p",{className:"text-xs text-slate-400",children:"No badges yet."})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s&&e.jsxs("span",{className:`
                px-3 py-1 rounded-full text-xs font-medium
                bg-gradient-to-r from-blue-100 to-blue-200
                dark:from-blue-900/40 dark:to-blue-800/40
                border border-blue-300/40 dark:border-blue-700/40
                text-blue-900 dark:text-blue-200
            `,children:["Tier: ",s]})})]})]}),e.jsxs("div",{className:`rounded-2xl border border-indigo-200/40 dark:border-indigo-800/40
                            bg-gradient-to-br from-white/90 via-indigo-50/40 to-slate-100/40
                            dark:bg-gradient-to-br dark:from-slate-900/70 dark:via-indigo-900/30 dark:to-slate-900/60
                            shadow-md backdrop-blur-xl p-5 mb-4
                            text-slate-700 dark:text-slate-200
                        `,children:[e.jsx("h2",{className:"text-xs font-semibold tracking-wider uppercase text-slate-600 dark:text-slate-300 mb-4",children:"Verification"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[i&&e.jsxs("div",{className:`
                                        relative p-4 rounded-2xl shadow-lg
                                        bg-gradient-to-br from-white via-indigo-50 to-slate-100
                                        dark:bg-gradient-to-br dark:from-[#111827] dark:via-[#1f2758]/40 dark:to-[#111827]/70
                                        border border-indigo-200/50 dark:border-indigo-700/40
                                        backdrop-blur-xl
                                    `,children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("span",{className:"text-indigo-400/40 dark:text-indigo-300/30 text-sm font-semibold tracking-widest rotate-[-20deg]",children:"WEB3EDU VERIFIED"})}),e.jsx("div",{className:"relative",children:e.jsx(N,{value:i,size:160,bgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#ffffff":"transparent",fgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#000000":"#1e1b4b",level:"M",includeMargin:!1,className:`rounded-xl shadow-md w-40 h-40 p-2 
               bg-white dark:bg-white`})}),e.jsx("p",{className:"text-[10px] text-center text-slate-500 dark:text-slate-400 mt-2",children:"Scan to verify identity"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 mb-1",children:"Verification Link"}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 mb-2",children:"Scan the QR or copy the URL to verify your identity."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"px-3 py-1 rounded-lg bg-indigo-100/60 dark:bg-indigo-900/40 border border-indigo-300/40 dark:border-indigo-700/40 text-xs font-mono max-w-[260px] overflow-hidden text-ellipsis text-slate-900 dark:text-slate-100",children:i}),e.jsx("button",{onClick:u,disabled:!i,className:"px-3 py-1 rounded-lg bg-indigo-200/60 dark:bg-indigo-800/40 hover:bg-indigo-300/70 dark:hover:bg-indigo-700/60 text-xs font-semibold transition-colors disabled:opacity-50",children:"Copy"})]})]})]})]}),e.jsx("div",{className:"mt-6 mb-3 flex justify-center",children:e.jsx("div",{className:`
                            px-4 py-2 rounded-xl
                            bg-indigo-100/60 dark:bg-indigo-900/30 
                            border border-indigo-300/40 dark:border-indigo-700/40
                            shadow-sm backdrop-blur-md
                            text-[11px] font-semibold text-indigo-700 dark:text-indigo-300
                        `,children:"✓ Verified on Web3Edu Edu-Net (QBFT • chainId 424242)"})}),e.jsxs("div",{className:"text-center text-xs text-indigo-700/70 dark:text-indigo-300/70 mt-2",children:[e.jsx("p",{children:"Issued on Web3Edu Edu‑Net"}),e.jsx("p",{className:"italic",children:"Non‑transferable Soulbound Token"})]})]})]})})}export{B as default};
