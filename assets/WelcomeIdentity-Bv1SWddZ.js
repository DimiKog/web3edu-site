import{u as f,c as w,r,j as e}from"./vendor-react-B7ncG0z2.js";import{P as p,w as k,f as j}from"./index-GPhR8bxb.js";import{u as v}from"./vendor-web3-Bvyti59t.js";const I=()=>{const h=f(),u=w(),{address:n}=v(),b=new URLSearchParams(u.search).get("tx"),[l,o]=r.useState(null),[i,c]=r.useState(null);r.useEffect(()=>{if(!n)return;fetch(`https://web3edu-api.dimikog.org/web3sbt/resolve/${n}`).then(t=>t.json()).then(t=>{o(t?.tokenId??null),c(null)}).catch(t=>{console.error("Failed to resolve tokenId",t),o(null),c("Unable to resolve token ID.")})},[n]),r.useEffect(()=>{window.scrollTo(0,0);const a=document.getElementById("confetti-canvas");if(a){const t=a.getContext("2d"),d=Array.from({length:120},()=>({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight-window.innerHeight,r:Math.random()*6+4,c:`hsl(${Math.random()*360}, 90%, 65%)`,s:Math.random()*2+1,a:Math.random()*(Math.PI*2)})),x=()=>{a.width=window.innerWidth,a.height=window.innerHeight,t.clearRect(0,0,a.width,a.height),d.forEach(s=>{s.y+=s.s,s.a+=.02,s.x+=Math.sin(s.a)*.5,s.y>window.innerHeight&&(s.y=-20),t.fillStyle=s.c,t.beginPath(),t.arc(s.x,s.y,s.r,0,Math.PI*2),t.fill()}),requestAnimationFrame(x)};x()}},[]);const[g,m]=r.useState(!1);return r.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)");m(a.matches);const t=d=>m(d.matches);return a.addEventListener("change",t),()=>a.removeEventListener("change",t)},[]),e.jsx(p,{children:e.jsxs("div",{className:`min-h-screen w-full flex flex-col items-center justify-center
            bg-gradient-to-br from-white via-slate-100 to-white
            dark:from-[#090C14] dark:via-[#120A1E] dark:to-[#020617]
            text-slate-900 dark:text-slate-100 px-6 py-20 relative overflow-hidden transition-colors duration-500`,children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none z-30 flex items-center justify-center animate-[fadeIn_0.8s_ease-out]",children:e.jsx("div",{className:"absolute w-64 h-64 rounded-full bg-gradient-to-br from-[#8A57FF]/40 via-[#4ACBFF]/30 to-[#FF67D2]/40 blur-3xl animate-pulse"})}),e.jsx("canvas",{id:"confetti-canvas",className:"absolute inset-0 z-40 pointer-events-none"}),e.jsx("div",{className:"absolute top-32 left-1/2 -translate-x-1/2 pointer-events-none",children:e.jsx("div",{className:"w-[400px] h-[400px] bg-purple-600/20 blur-[120px] rounded-full"})}),e.jsxs("div",{className:"relative z-20 max-w-xl w-full mb-12 flex flex-col items-center select-none",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-700 dark:text-gray-300 mb-4 tracking-tight",children:"Identity Setup"}),e.jsx("div",{className:"w-24 h-1 mb-6 rounded-full bg-gradient-to-r from-[#8A57FF]/40 via-[#4ACBFF]/30 to-[#FF67D2]/40"}),e.jsxs("div",{className:"flex justify-between items-center w-full text-sm font-semibold text-slate-700 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-300/60 dark:border-emerald-400/60 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-emerald-500 text-white font-bold shadow-md",children:"âœ“"}),e.jsx("span",{className:"text-slate-900 dark:text-white tracking-wide",children:"Connect Wallet"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-300/60 dark:border-emerald-400/60 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-emerald-500 text-white font-bold shadow-md",children:"âœ“"}),e.jsx("span",{className:"text-slate-900 dark:text-white tracking-wide",children:"Mint SBT"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-gradient-to-br from-[#8A57FF]/15 via-[#4ACBFF]/10 to-[#FF67D2]/15 border border-[#8A57FF]/20 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-gradient-to-br from-[#8A57FF] via-[#4ACBFF] to-[#FF67D2] text-white font-bold shadow-md",children:"3"}),e.jsx("span",{className:"text-slate-900 dark:text-white tracking-wide",children:"Welcome"})]})]}),e.jsx("div",{className:"w-full h-px mt-6 bg-gradient-to-r from-transparent via-[#8A57FF]/40 to-transparent opacity-70"})]}),e.jsxs("div",{className:`relative z-10 max-w-xl w-full
                bg-white/80 dark:bg-white/5
                border border-slate-200/70 dark:border-white/10
                rounded-3xl backdrop-blur-md p-10
                shadow-[0_8px_24px_rgba(15,23,42,0.18)]
                flex flex-col items-center text-center transition-colors duration-500`,children:[e.jsx("h1",{className:"text-4xl font-extrabold mb-5 tracking-tight animate-[fadeIn_0.8s_ease-out] text-slate-900 dark:text-white",children:"ðŸŽ‰ Your Web3Edu Identity Is Ready!"}),e.jsxs("p",{className:"animate-[fadeIn_0.9s_ease-out] text-md text-slate-600 dark:text-gray-300 leading-relaxed dark:leading-loose max-w-md mb-8",children:["Youâ€™ve successfully minted your ",e.jsx("strong",{children:"Web3Edu Identity SBT"})," â€” your permanent ",e.jsx("strong",{children:"on-chain learning identity"}),". This token unlocks access to your ",e.jsx("strong",{children:"progress tracking"}),", ",e.jsx("strong",{children:"achievements"}),", and upcoming ",e.jsx("strong",{children:"DAO participation features"})," across the Web3Edu ecosystem."]}),e.jsx("div",{className:"animate-[fadeIn_1s_ease-out] bg-purple-200/40 dark:bg-purple-900/40 rounded-xl py-4 px-6 mb-8 w-full max-w-md text-left text-purple-800 dark:text-purple-200",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsx("li",{children:e.jsx("strong",{children:"Wallet connected"})}),e.jsx("li",{children:e.jsx("strong",{children:"Identity SBT successfully minted"})}),e.jsx("li",{children:e.jsx("strong",{children:"Dashboard access unlocked"})})]})}),e.jsx("img",{src:g?k:j,alt:"Web3Edu Identity Badge",className:"w-32 h-32 sm:w-40 sm:h-40 mb-8 rounded-full drop-shadow-xl mx-auto transition-all duration-300",loading:"eager",fetchpriority:"high"}),e.jsxs("p",{className:"animate-[fadeIn_1.1s_ease-out] text-sm text-slate-700 dark:text-slate-300 mb-6 max-w-md leading-relaxed dark:leading-loose",children:["Next steps: Explore your ",e.jsx("strong",{children:"Dashboard"})," to view your XP, track completed lessons, unlock ",e.jsx("strong",{children:"badges"}),", and follow your personalized ",e.jsx("strong",{children:"learning path"})," within the Web3Edu platform."]}),l!==null?e.jsxs("div",{className:`animate-[fadeIn_1.15s_ease-out] mb-6 w-full max-w-md mx-auto p-4 
                        rounded-xl border border-slate-300/60 dark:border-white/10 
                        bg-white/60 dark:bg-white/5 backdrop-blur-md 
                        shadow-[0_4px_18px_rgba(0,0,0,0.08)]`,children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 mb-1",children:e.jsx("strong",{children:"Token ID"})}),e.jsx("a",{href:`https://blockexplorer.dimikog.org/token/0xdde6a59445538ea146a17dd8745e7ea5288b1a31/instance/${l}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-[#8A57FF] dark:text-purple-300 underline hover:opacity-80",children:"View on Blockscout â†—"})]}):(i||b)&&e.jsx("div",{className:`animate-[fadeIn_1.15s_ease-out] mb-6 w-full max-w-md mx-auto p-4 
                            rounded-xl border border-amber-300/60 dark:border-amber-500/40 
                            bg-amber-50/80 dark:bg-amber-900/20 backdrop-blur-md 
                            shadow-[0_4px_18px_rgba(0,0,0,0.08)]`,children:e.jsx("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:i??"Token ID not available yet. Try again in a moment."})}),e.jsx("button",{onClick:()=>h("/dashboard"),className:"mt-2 px-8 py-3 bg-gradient-to-r from-[#8A57FF] via-[#4ACBFF] to-[#FF67D2] hover:opacity-90 hover:scale-[1.02] transition-all rounded-xl text-lg font-semibold shadow-lg animate-[fadeIn_1.2s_ease-out]",children:"Go to Dashboard"})]})]})})};export{I as default};
