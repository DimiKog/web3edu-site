import{u as zt,j as m,r as o,e as Bt}from"./vendor-react-XZtyZRd7.js";import{a as $t}from"./adminApi-CSNMpv-F.js";import{ak as _t,al as ye,a4 as we,am as Pe,an as Mt,N as B,ao as Rt,ap as be,O as Oe,D as ie,A as ne,Z as le,L as U,B as de,aq as Ft,ar as Kt,K as it,a5 as nt,a0 as Le,a7 as Wt,a8 as Gt,as as Yt,at as Ht,au as Xt,av as fe,E as I,aw as Me,ax as Re,ay as lt,az as ot,aA as Fe,aB as Vt,aC as Ut,aD as E,aE as N,aF as qt,aG as st,a1 as Zt,c as X,z as Jt,aH as ze,n as oe,aI as Qt,aJ as re,aK as ae,aL as ct,aM as ut,aN as dt,aO as er,aP as tr,aQ as Ke,aR as rr,aS as We,aT as ar,aU as ft,R as ir,aV as nr,aW as lr,y as vt,H as or,aX as sr,aY as cr,C as ur,G as je,h as mt,aZ as dr,a_ as fr,a$ as Ge,T as ht,W as pt,X as xt,Y as yt,I as vr,J as mr,M as Y,a2 as hr,b0 as pr,U as xr,b1 as yr,a9 as Be,b2 as gt,b3 as bt,b4 as gr,b5 as br,b6 as kr,b7 as kt,b8 as wr,b9 as Pr,ba as Or,bb as jr,bc as Ar,bd as Sr,be as Cr,bf as Ir,bg as Er,bh as Nr,bi as Dr,ab as Tr,ac as Lr,ad as zr,ae as Br,af as $r,ag as _r,ah as Mr,ai as Rr,aj as Fr}from"./CategoricalChart-sZ5-gRKd.js";import{g as H,u as Kr}from"./vendor-web3-Dys35WFk.js";function Wr(e){return e>=.8?"text-green-600 dark:text-green-400":e>=.4?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}function Gr(e){return Math.max(0,(e.started||0)-(e.completed||0))}function Yr(e){if(typeof e?.completionRate=="number")return e.completionRate;const t=e?.started||0,r=e?.completed||0;return t<=0?0:r/t}function Hr(e){const t=e?.started||0,r=e?.completed||0;return t<=0?0:Math.max(0,(t-r)/t)}function Ye(e){const t=Number(e);return!Number.isFinite(t)||t<0?"—":`${Math.round(t)} min`}function Xr(e){return e>=5?"bg-red-50/70 dark:bg-red-900/20":e>=2?"bg-yellow-50/70 dark:bg-yellow-900/20":""}function Vr({labs:e}){const t=zt();return!e||e.length===0?m.jsx("div",{className:"mt-8 text-slate-500 dark:text-slate-300",children:"No lab data available yet."}):m.jsxs("div",{className:"mt-10",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Labs Progress"}),m.jsx("div",{className:"overflow-x-auto rounded-2xl border border-white/10 bg-white/60 dark:bg-[#0b0f17]/70 backdrop-blur-xl",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-white/80 dark:bg-[#111827]/80",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 text-left text-slate-700 dark:text-slate-200",children:"Lab"}),m.jsx("th",{className:"p-3 text-left text-slate-700 dark:text-slate-200",children:"Category"}),m.jsx("th",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:"Started"}),m.jsx("th",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:"Completed"}),m.jsx("th",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:"Avg Time"}),m.jsx("th",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:"Median Time"}),m.jsx("th",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:"Drop‑off"}),m.jsx("th",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:"Completion"})]})}),m.jsx("tbody",{children:e.map(r=>{const a=Gr(r),i=r.started||0,n=r.completed||0,l=Yr(r),s=Hr(r),f=l>=.9?1:l>=.75?.8:.6,c=s>.15?"bg-rose-600":"bg-rose-500";return m.jsxs("tr",{onClick:()=>t(`/admin/labs/${r.labId}`),className:`cursor-pointer border-t border-white/10 hover:bg-white/60 dark:hover:bg-white/5 transition ${Xr(a)}`,children:[m.jsx("td",{className:"p-3 text-slate-900 dark:text-slate-100",children:r.title?.en||r.labId}),m.jsx("td",{className:"p-3 text-sm text-slate-600 dark:text-slate-400",children:r.category}),m.jsx("td",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:i}),m.jsx("td",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:n}),m.jsx("td",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:Ye(r.avgCompletionTimeMinutes)}),m.jsx("td",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:Ye(r.medianCompletionTimeMinutes)}),m.jsx("td",{className:"p-3 min-w-[220px]",children:m.jsxs("div",{className:"space-y-1 text-xs text-slate-600 dark:text-slate-300",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("span",{children:["Started: ",i]}),m.jsxs("span",{children:["Completed: ",n]})]}),m.jsxs("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800 flex",children:[m.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${Math.round(l*100)}%`,opacity:f}}),m.jsx("div",{className:`h-full ${c}`,style:{width:`${Math.round(s*100)}%`}})]}),m.jsxs("div",{className:"text-right font-medium",children:["Drop-off: ",Math.round(s*100),"%"]})]})}),m.jsxs("td",{className:`p-3 text-center font-semibold ${Wr(l)}`,children:[Math.round(l*100),"%"]})]},r.labId)})})]})})]})}var He=(e,t,r)=>{var a=r??e;if(!ye(a))return we(a,t,0)},Ur=(e,t,r)=>{var a={},i=e.filter(_t),n=e.filter(c=>c.stackId==null),l=i.reduce((c,u)=>{var d=c[u.stackId];return d==null&&(d=[]),d.push(u),c[u.stackId]=d,c},a),s=Object.entries(l).map(c=>{var u,[d,v]=c,k=v.map(y=>y.dataKey),h=He(t,r,(u=v[0])===null||u===void 0?void 0:u.barSize);return{stackId:d,dataKeys:k,barSize:h}}),f=n.map(c=>{var u=[c.dataKey].filter(v=>v!=null),d=He(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...s,...f]};function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xe(Object(r),!0).forEach(function(a){qr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qr(e,t,r){return(t=Zr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zr(e){var t=Jr(e,"string");return typeof t=="symbol"?t:t+""}function Jr(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t,r,a,i){var n,l=a.length;if(!(l<1)){var s=we(e,r,0,!0),f,c=[];if(Pe((n=a[0])===null||n===void 0?void 0:n.barSize)){var u=!1,d=r/l,v=a.reduce((P,O)=>P+(O.barSize||0),0);v+=(l-1)*s,v>=r&&(v-=(l-1)*s,s=0),v>=r&&d>0&&(u=!0,d*=.9,v=l*d);var k=(r-v)/2>>0,h={offset:k-s,size:0};f=a.reduce((P,O)=>{var w,b={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:h.offset+h.size+s,size:u?d:(w=O.barSize)!==null&&w!==void 0?w:0}},p=[...P,b];return h=b.position,p},c)}else{var y=we(t,r,0,!0);r-2*y-(l-1)*s<=0&&(s=0);var g=(r-2*y-(l-1)*s)/l;g>1&&(g>>=0);var x=Pe(i)?Math.min(g,i):g;f=a.reduce((P,O,w)=>[...P,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:y+(g+s)*w+(g-x)/2,size:x}}],c)}return f}}var ea=(e,t,r,a,i,n,l)=>{var s=ye(l)?t:l,f=Qr(r,a,i!==n?i:n,e,s);return i!==n&&f!=null&&(f=f.map(c=>me(me({},c),{},{position:me(me({},c.position),{},{offset:c.position.offset-i/2})}))),f},ta=(e,t)=>{var r=Mt(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var i=e[a];if(i){var{stackedData:n}=i;if(n)return n.find(l=>l.key===r)}}}},ra=(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function aa(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Pe(e.zIndex)?e.zIndex:t}function ia(e){return(e%180+180)%180}var na=function(t){var{width:r,height:a}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=ia(i),l=n*Math.PI/180,s=Math.atan(a/r),f=l>s&&l<Math.PI-s?a/Math.sin(l):r/Math.cos(l);return Math.abs(f)};function wt(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t){var i=e[a];i!==void 0&&r.push(i)}return r}function la(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return na(a,r)}function oa(e,t,r){var a=r==="width",{x:i,y:n,width:l,height:s}=e;return t===1?{start:a?i:n,end:a?i+l:n+s}:{start:a?i+l:n+s,end:a?i:n}}function ue(e,t,r,a,i){if(e*t<e*a||e*t>e*i)return!1;var n=r();return e*(t-e*n/2-a)>=0&&e*(t+e*n/2-i)<=0}function sa(e,t){return wt(e,t+1)}function ca(e,t,r,a,i){for(var n=(a||[]).slice(),{start:l,end:s}=t,f=0,c=1,u=l,d=function(){var h=a?.[f];if(h===void 0)return{v:wt(a,c)};var y=f,g,x=()=>(g===void 0&&(g=r(h,y)),g),P=h.coordinate,O=f===0||ue(e,P,x,u,s);O||(f=0,u=l,c+=1),O&&(u=P+e*(x()/2+i),f+=c)},v;c<=n.length;)if(v=d(),v)return v.v;return[]}function ua(e,t,r,a,i){var n=(a||[]).slice(),l=n.length;if(l===0)return[];for(var{start:s,end:f}=t,c=1;c<=l;c++){for(var u=(l-1)%c,d=s,v=!0,k=function(){var w=a[y];if(w==null)return 0;var b=y,p,j=()=>(p===void 0&&(p=r(w,b)),p),S=w.coordinate,C=y===u||ue(e,S,j,d,f);if(!C)return v=!1,1;C&&(d=S+e*(j()/2+i))},h,y=u;y<l&&(h=k(),!(h!==0&&h===1));y+=c);if(v){for(var g=[],x=u;x<l;x+=c){var P=a[x];P!=null&&g.push(P)}return g}}return[]}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ve(Object(r),!0).forEach(function(a){da(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function da(e,t,r){return(t=fa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fa(e){var t=va(e,"string");return typeof t=="symbol"?t:t+""}function va(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ma(e,t,r,a,i){for(var n=(a||[]).slice(),l=n.length,{start:s}=t,{end:f}=t,c=function(v){var k=n[v];if(k==null)return 1;var h=k,y,g=()=>(y===void 0&&(y=r(k,v)),y);if(v===l-1){var x=e*(h.coordinate+e*g()/2-f);n[v]=h=T(T({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else n[v]=h=T(T({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var P=ue(e,h.tickCoord,g,s,f);P&&(f=h.tickCoord-e*(g()/2+i),n[v]=T(T({},h),{},{isShow:!0}))}},u=l-1;u>=0;u--)c(u);return n}function ha(e,t,r,a,i,n){var l=(a||[]).slice(),s=l.length,{start:f,end:c}=t;if(n){var u=a[s-1];if(u!=null){var d=r(u,s-1),v=e*(u.coordinate+e*d/2-c);if(l[s-1]=u=T(T({},u),{},{tickCoord:v>0?u.coordinate-v*e:u.coordinate}),u.tickCoord!=null){var k=ue(e,u.tickCoord,()=>d,f,c);k&&(c=u.tickCoord-e*(d/2+i),l[s-1]=T(T({},u),{},{isShow:!0}))}}}for(var h=n?s-1:s,y=function(P){var O=l[P];if(O==null)return 1;var w=O,b,p=()=>(b===void 0&&(b=r(O,P)),b);if(P===0){var j=e*(w.coordinate-e*p()/2-f);l[P]=w=T(T({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else l[P]=w=T(T({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var S=ue(e,w.tickCoord,p,f,c);S&&(f=w.tickCoord+e*(p()/2+i),l[P]=T(T({},w),{},{isShow:!0}))}},g=0;g<h;g++)y(g);return l}function $e(e,t,r){var{tick:a,ticks:i,viewBox:n,minTickGap:l,orientation:s,interval:f,tickFormatter:c,unit:u,angle:d}=e;if(!i||!i.length||!a)return[];if(B(f)||Rt.isSsr){var v;return(v=sa(i,B(f)?f:0))!==null&&v!==void 0?v:[]}var k=[],h=s==="top"||s==="bottom"?"width":"height",y=u&&h==="width"?be(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(b,p)=>{var j=typeof c=="function"?c(b.value,p):b.value;return h==="width"?la(be(j,{fontSize:t,letterSpacing:r}),y,d):be(j,{fontSize:t,letterSpacing:r})[h]},x=i[0],P=i[1],O=i.length>=2&&x!=null&&P!=null?Oe(P.coordinate-x.coordinate):1,w=oa(n,O,h);return f==="equidistantPreserveStart"?ca(O,w,g,i,l):f==="equidistantPreserveEnd"?ua(O,w,g,i,l):(f==="preserveStart"||f==="preserveStartEnd"?k=ha(O,w,g,i,l,f==="preserveStartEnd"):k=ma(O,w,g,i,l),k.filter(b=>b.isShow))}var pa=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:i=0,tickMargin:n=0}=e,l=0;if(t){Array.from(t).forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>l&&(l=d.width)}});var s=r?r.getBoundingClientRect().width:0,f=i+n,c=l+f+s+(r?a:0);return Math.round(c)}return 0},xa=["axisLine","width","height","className","hide","ticks","axisType"];function ya(e,t){if(e==null)return{};var r,a,i=ga(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ga(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},q.apply(null,arguments)}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ue(Object(r),!0).forEach(function(a){ba(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ba(e,t,r){return(t=ka(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ka(e){var t=wa(e,"string");return typeof t=="symbol"?t:t+""}function wa(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ie.axis};function Pa(e){var{x:t,y:r,width:a,height:i,orientation:n,mirror:l,axisLine:s,otherSvgProps:f}=e;if(!s)return null;var c=A(A(A({},f),de(s)),{},{fill:"none"});if(n==="top"||n==="bottom"){var u=+(n==="top"&&!l||n==="bottom"&&l);c=A(A({},c),{},{x1:t,y1:r+u*i,x2:t+a,y2:r+u*i})}else{var d=+(n==="left"&&!l||n==="right"&&l);c=A(A({},c),{},{x1:t+d*a,y1:r,x2:t+d*a,y2:r+i})}return o.createElement("line",q({},c,{className:H("recharts-cartesian-axis-line",it(s,"className"))}))}function Oa(e,t,r,a,i,n,l,s,f){var c,u,d,v,k,h,y=s?-1:1,g=e.tickSize||l,x=B(e.tickCoord)?e.tickCoord:e.coordinate;switch(n){case"top":c=u=e.coordinate,v=r+ +!s*i,d=v-y*g,h=d-y*f,k=x;break;case"left":d=v=e.coordinate,u=t+ +!s*a,c=u-y*g,k=c-y*f,h=x;break;case"right":d=v=e.coordinate,u=t+ +s*a,c=u+y*g,k=c+y*f,h=x;break;default:c=u=e.coordinate,v=r+ +s*i,d=v+y*g,h=d+y*f,k=x;break}return{line:{x1:c,y1:d,x2:u,y2:v},tick:{x:k,y:h}}}function ja(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Aa(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Sa(e){var{option:t,tickProps:r,value:a}=e,i,n=H(r.className,"recharts-cartesian-axis-tick-value");if(o.isValidElement(t))i=o.cloneElement(t,A(A({},r),{},{className:n}));else if(typeof t=="function")i=t(A(A({},r),{},{className:n}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=H(l,Wt(t))),i=o.createElement(Gt,q({},r,{className:l}),a)}return i}var Ca=o.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:i,stroke:n,tickFormatter:l,unit:s,padding:f,tickTextProps:c,orientation:u,mirror:d,x:v,y:k,width:h,height:y,tickSize:g,tickMargin:x,fontSize:P,letterSpacing:O,getTicksConfig:w,events:b,axisType:p}=e,j=$e(A(A({},w),{},{ticks:r}),P,O),S=ja(u,d),C=Aa(u,d),D=de(w),se=nt(a),ce={};typeof i=="object"&&(ce=i);var $=A(A({},D),{},{fill:"none"},ce),Q=j.map(M=>A({entry:M},Oa(M,v,k,h,y,u,g,d,x))),ee=Q.map(M=>{var{entry:_,line:R}=M;return o.createElement(U,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},i&&o.createElement("line",q({},$,R,{className:H("recharts-cartesian-axis-tick-line",it(i,"className"))})))}),G=Q.map((M,_)=>{var R,te,{entry:F,tick:ge}=M,Tt=A(A(A(A({verticalAnchor:C},D),{},{textAnchor:S,stroke:"none",fill:n},ge),{},{index:_,payload:F,visibleTicksCount:j.length,tickFormatter:l,padding:f},c),{},{angle:(R=(te=c?.angle)!==null&&te!==void 0?te:D.angle)!==null&&R!==void 0?R:0}),Lt=A(A({},Tt),se);return o.createElement(U,q({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},Le(b,F,_)),a&&o.createElement(Sa,{option:a,tickProps:Lt,value:"".concat(typeof l=="function"?l(F.value,_):F.value).concat(s||"")}))});return o.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(p,"-ticks")},G.length>0&&o.createElement(le,{zIndex:ie.label},o.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(p,"-tick-labels"),ref:t},G)),ee.length>0&&o.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(p,"-tick-lines")},ee))}),Ia=o.forwardRef((e,t)=>{var{axisLine:r,width:a,height:i,className:n,hide:l,ticks:s,axisType:f}=e,c=ya(e,xa),[u,d]=o.useState(""),[v,k]=o.useState(""),h=o.useRef(null);o.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return pa({ticks:h.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=o.useCallback(g=>{if(g){var x=g.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=x;var P=x[0];if(P){var O=window.getComputedStyle(P),w=O.fontSize,b=O.letterSpacing;(w!==u||b!==v)&&(d(w),k(b))}}},[u,v]);return l||a!=null&&a<=0||i!=null&&i<=0?null:o.createElement(le,{zIndex:e.zIndex},o.createElement(U,{className:H("recharts-cartesian-axis",n)},o.createElement(Pa,{x:e.x,y:e.y,width:a,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:de(e)}),o.createElement(Ca,{ref:y,axisType:f,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),o.createElement(Ft,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},o.createElement(Kt,{label:e.label,labelRef:e.labelRef}),e.children)))}),_e=o.forwardRef((e,t)=>{var r=ne(e,K);return o.createElement(Ia,q({},r,{ref:t}))});_e.displayName="CartesianAxis";var Ea=["x1","y1","x2","y2","key"],Na=["offset"],Da=["xAxisId","yAxisId"],Ta=["xAxisId","yAxisId"];function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qe(Object(r),!0).forEach(function(a){La(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function La(e,t,r){return(t=za(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function za(e){var t=Ba(e,"string");return typeof t=="symbol"?t:t+""}function Ba(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},V.apply(null,arguments)}function he(e,t){if(e==null)return{};var r,a,i=$a(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $a(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var _a=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:i,width:n,height:l,ry:s}=e;return o.createElement("rect",{x:a,y:i,ry:s,width:n,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Pt(e){var{option:t,lineItemProps:r}=e,a;if(o.isValidElement(t))a=o.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var i,{x1:n,y1:l,x2:s,y2:f,key:c}=r,u=he(r,Ea),d=(i=de(u))!==null&&i!==void 0?i:{},{offset:v}=d,k=he(d,Na);a=o.createElement("line",V({},k,{x1:n,y1:l,x2:s,y2:f,fill:"none",key:c}))}return a}function Ma(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:n,yAxisId:l}=e,s=he(e,Da),f=i.map((c,u)=>{var d=L(L({},s),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return o.createElement(Pt,{key:"line-".concat(u),option:a,lineItemProps:d})});return o.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Ra(e){var{y:t,height:r,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:n,yAxisId:l}=e,s=he(e,Ta),f=i.map((c,u)=>{var d=L(L({},s),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return o.createElement(Pt,{option:a,lineItemProps:d,key:"line-".concat(u)})});return o.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Fa(e){var{horizontalFill:t,fillOpacity:r,x:a,y:i,width:n,height:l,horizontalPoints:s,horizontal:f=!0}=e;if(!f||!t||!t.length||s==null)return null;var c=s.map(d=>Math.round(d+i-i)).sort((d,v)=>d-v);i!==c[0]&&c.unshift(0);var u=c.map((d,v)=>{var k=c[v+1],h=k==null,y=h?i+l-d:k-d;if(y<=0)return null;var g=v%t.length;return o.createElement("rect",{key:"react-".concat(v),y:d,x:a,height:y,width:n,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return o.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Ka(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:i,y:n,width:l,height:s,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var c=f.map(d=>Math.round(d+i-i)).sort((d,v)=>d-v);i!==c[0]&&c.unshift(0);var u=c.map((d,v)=>{var k=c[v+1],h=k==null,y=h?i+l-d:k-d;if(y<=0)return null;var g=v%r.length;return o.createElement("rect",{key:"react-".concat(v),x:d,y:n,width:y,height:s,stroke:"none",fill:r[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return o.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Wa=(e,t)=>{var{xAxis:r,width:a,height:i,offset:n}=e;return lt($e(L(L(L({},K),r),{},{ticks:ot(r),viewBox:{x:0,y:0,width:a,height:i}})),n.left,n.left+n.width,t)},Ga=(e,t)=>{var{yAxis:r,width:a,height:i,offset:n}=e;return lt($e(L(L(L({},K),r),{},{ticks:ot(r),viewBox:{x:0,y:0,width:a,height:i}})),n.top,n.top+n.height,t)},Ya={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ie.grid};function Ot(e){var t=Yt(),r=Ht(),a=Xt(),i=L(L({},ne(e,Ya)),{},{x:B(e.x)?e.x:a.left,y:B(e.y)?e.y:a.top,width:B(e.width)?e.width:a.width,height:B(e.height)?e.height:a.height}),{xAxisId:n,yAxisId:l,x:s,y:f,width:c,height:u,syncWithTicks:d,horizontalValues:v,verticalValues:k}=i,h=fe(),y=I(C=>Fe(C,"xAxis",n,h)),g=I(C=>Fe(C,"yAxis",l,h));if(!Me(c)||!Me(u)||!B(s)||!B(f))return null;var x=i.verticalCoordinatesGenerator||Wa,P=i.horizontalCoordinatesGenerator||Ga,{horizontalPoints:O,verticalPoints:w}=i;if((!O||!O.length)&&typeof P=="function"){var b=v&&v.length,p=P({yAxis:g?L(L({},g),{},{ticks:b?v:g.ticks}):void 0,width:t??c,height:r??u,offset:a},b?!0:d);Re(Array.isArray(p),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof p,"]")),Array.isArray(p)&&(O=p)}if((!w||!w.length)&&typeof x=="function"){var j=k&&k.length,S=x({xAxis:y?L(L({},y),{},{ticks:j?k:y.ticks}):void 0,width:t??c,height:r??u,offset:a},j?!0:d);Re(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}return o.createElement(le,{zIndex:i.zIndex},o.createElement("g",{className:"recharts-cartesian-grid"},o.createElement(_a,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),o.createElement(Fa,V({},i,{horizontalPoints:O})),o.createElement(Ka,V({},i,{verticalPoints:w})),o.createElement(Ma,V({},i,{offset:a,horizontalPoints:O,xAxis:y,yAxis:g})),o.createElement(Ra,V({},i,{offset:a,verticalPoints:w,xAxis:y,yAxis:g}))))}Ot.displayName="CartesianGrid";var Ha=["children"];function Xa(e,t){if(e==null)return{};var r,a,i=Va(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Va(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ua={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qa=o.createContext(Ua);function Za(e){var{children:t}=e,r=Xa(e,Ha);return o.createElement(qa.Provider,{value:r},t)}function jt(e,t){var r,a,i=I(c=>Vt(c,e)),n=I(c=>Ut(c,t)),l=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:E.allowDataOverflow,s=(a=n?.allowDataOverflow)!==null&&a!==void 0?a:N.allowDataOverflow,f=l||s;return{needClip:f,needClipX:l,needClipY:s}}function Ja(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,i=qt(),{needClipX:n,needClipY:l,needClip:s}=jt(t,r);if(!s||!i)return null;var{x:f,y:c,width:u,height:d}=i;return o.createElement("clipPath",{id:"clipPath-".concat(a)},o.createElement("rect",{x:n?f:f-u/2,y:l?c:c-d/2,width:n?u:u*2,height:l?d:d*2}))}function Z(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||a===void 0?void 0:a.xAxisId)!==null&&r!==void 0?r:st}function J(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||a===void 0?void 0:a.yAxisId)!==null&&r!==void 0?r:st}var Qa="Invariant failed";function ei(e,t){throw new Error(Qa)}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ae.apply(null,arguments)}function pe(e){return o.createElement(Zt,Ae({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var ti=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,i)=>{if(B(t))return t;var n=B(a)||ye(a);return n?t(a,i):(n||ei(),r)}},ri=(e,t,r)=>r,ai=(e,t)=>t,ve=X([ut,ai],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),ii=X([ve],e=>e?.maxBarSize),ni=(e,t,r,a)=>a,li=X([oe,ut,Z,J,ri],(e,t,r,a,i)=>t.filter(n=>e==="horizontal"?n.xAxisId===r:n.yAxisId===a).filter(n=>n.isPanorama===i).filter(n=>n.hide===!1).filter(n=>n.type==="bar")),oi=(e,t,r)=>{var a=oe(e),i=Z(e,t),n=J(e,t);if(!(i==null||n==null))return a==="horizontal"?Ke(e,"yAxis",n,r):Ke(e,"xAxis",i,r)},si=(e,t)=>{var r=oe(e),a=Z(e,t),i=J(e,t);if(!(a==null||i==null))return r==="horizontal"?We(e,"xAxis",a):We(e,"yAxis",i)},ci=X([li,rr,si],Ur),ui=(e,t,r)=>{var a,i,n=ve(e,t);if(n==null)return 0;var l=Z(e,t),s=J(e,t);if(l==null||s==null)return 0;var f=oe(e),c=dt(e),{maxBarSize:u}=n,d=ye(u)?c:u,v,k;return f==="horizontal"?(v=re(e,"xAxis",l,r),k=ae(e,"xAxis",l,r)):(v=re(e,"yAxis",s,r),k=ae(e,"yAxis",s,r)),(a=(i=ct(v,k,!0))!==null&&i!==void 0?i:d)!==null&&a!==void 0?a:0},At=(e,t,r)=>{var a=oe(e),i=Z(e,t),n=J(e,t);if(!(i==null||n==null)){var l,s;return a==="horizontal"?(l=re(e,"xAxis",i,r),s=ae(e,"xAxis",i,r)):(l=re(e,"yAxis",n,r),s=ae(e,"yAxis",n,r)),ct(l,s)}},di=X([ci,dt,er,tr,ui,At,ii],ea),fi=(e,t,r)=>{var a=Z(e,t);if(a!=null)return re(e,"xAxis",a,r)},vi=(e,t,r)=>{var a=J(e,t);if(a!=null)return re(e,"yAxis",a,r)},mi=(e,t,r)=>{var a=Z(e,t);if(a!=null)return ae(e,"xAxis",a,r)},hi=(e,t,r)=>{var a=J(e,t);if(a!=null)return ae(e,"yAxis",a,r)},pi=X([di,ve],ra),xi=X([oi,ve],ta),yi=X([Jt,ze,fi,vi,mi,hi,pi,oe,Qt,At,xi,ve,ni],(e,t,r,a,i,n,l,s,f,c,u,d,v)=>{var{chartData:k,dataStartIndex:h,dataEndIndex:y}=f;if(!(d==null||l==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||a==null||i==null||n==null||c==null)){var{data:g}=d,x;if(g!=null&&g.length>0?x=g:x=k?.slice(h,y+1),x!=null)return Hi({layout:s,barSettings:d,pos:l,parentViewBox:t,bandSize:c,xAxis:r,yAxis:a,xAxisTicks:i,yAxisTicks:n,stackedData:u,displayedData:x,offset:e,cells:v,dataStartIndex:h})}}),gi=["index"];function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Se.apply(null,arguments)}function bi(e,t){if(e==null)return{};var r,a,i=ki(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ki(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var St=o.createContext(void 0),wi=e=>{var t=o.useContext(St);if(t!=null)return t.stackId;if(e!=null)return ar(e)},Pi=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Oi=e=>{var t=o.useContext(St);if(t!=null){var{stackId:r}=t;return"url(#".concat(Pi(r,e),")")}},Ct=e=>{var{index:t}=e,r=bi(e,gi),a=Oi(t);return o.createElement(U,Se({className:"recharts-bar-stack-layer",clipPath:a},r))},ji=["onMouseEnter","onMouseLeave","onClick"],Ai=["value","background","tooltipPosition"],Si=["id"],Ci=["onMouseEnter","onClick","onMouseLeave"];function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W.apply(null,arguments)}function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ze(Object(r),!0).forEach(function(a){Ii(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ii(e,t,r){return(t=Ei(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ei(e){var t=Ni(e,"string");return typeof t=="symbol"?t:t+""}function Ni(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xe(e,t){if(e==null)return{};var r,a,i=Di(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Di(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ti=e=>{var{dataKey:t,name:r,fill:a,legendType:i,hide:n}=e;return[{inactive:n,dataKey:t,type:i,color:a,value:vt(r,t),payload:e}]},Li=o.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:i,name:n,hide:l,unit:s,tooltipType:f,id:c}=e,u={dataDefinedOnItem:void 0,getPosition:sr,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:vt(n,t),hide:l,type:f,color:i,unit:s,graphicalItemId:c}};return o.createElement(or,{tooltipEntrySettings:u})});function zi(e){var t=I(ht),{data:r,dataKey:a,background:i,allOtherBarProps:n}=e,{onMouseEnter:l,onMouseLeave:s,onClick:f}=n,c=xe(n,ji),u=pt(l,a,n.id),d=xt(s),v=yt(f,a,n.id);if(!i||r==null)return null;var k=nt(i);return o.createElement(le,{zIndex:aa(i,ie.barBackground)},r.map((h,y)=>{var{value:g,background:x,tooltipPosition:P}=h,O=xe(h,Ai);if(!x)return null;var w=u(h,y),b=d(h,y),p=v(h,y),j=z(z(z(z(z({option:i,isActive:String(y)===t},O),{},{fill:"#eee"},x),k),Le(c,h,y)),{},{onMouseEnter:w,onMouseLeave:b,onClick:p,dataKey:a,index:y,className:"recharts-bar-background-rectangle"});return o.createElement(pe,W({key:"background-bar-".concat(y)},j))}))}function Bi(e){var{showLabels:t,children:r,rects:a}=e,i=a?.map(n=>{var l={x:n.x,y:n.y,width:n.width,lowerWidth:n.width,upperWidth:n.width,height:n.height};return z(z({},l),{},{value:n.value,payload:n.payload,parentViewBox:n.parentViewBox,viewBox:l,fill:n.fill})});return o.createElement(pr,{value:t?i:void 0},r)}function $i(e){var{shape:t,activeBar:r,baseProps:a,entry:i,index:n,dataKey:l}=e,s=I(ht),f=I(xr),c=r&&String(n)===s&&(f==null||l===f),u=c?r:t;return c?o.createElement(le,{zIndex:ie.activeBar},o.createElement(Ct,{index:n},o.createElement(pe,W({},a,{name:String(a.name)},i,{isActive:c,option:u,index:n,dataKey:l})))):o.createElement(pe,W({},a,{name:String(a.name)},i,{isActive:c,option:u,index:n,dataKey:l}))}function _i(e){var{shape:t,baseProps:r,entry:a,index:i,dataKey:n}=e;return o.createElement(pe,W({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:i,dataKey:n}))}function Mi(e){var t,{data:r,props:a}=e,i=(t=de(a))!==null&&t!==void 0?t:{},{id:n}=i,l=xe(i,Si),{shape:s,dataKey:f,activeBar:c}=a,{onMouseEnter:u,onClick:d,onMouseLeave:v}=a,k=xe(a,Ci),h=pt(u,f,n),y=xt(v),g=yt(d,f,n);return r?o.createElement(o.Fragment,null,r.map((x,P)=>o.createElement(Ct,W({index:P,key:"rectangle-".concat(x?.x,"-").concat(x?.y,"-").concat(x?.value,"-").concat(P),className:"recharts-bar-rectangle"},Le(k,x,P),{onMouseEnter:h(x,P),onMouseLeave:y(x,P),onClick:g(x,P)}),c?o.createElement($i,{shape:s,activeBar:c,baseProps:l,entry:x,index:P,dataKey:f}):o.createElement(_i,{shape:s,baseProps:l,entry:x,index:P,dataKey:f})))):null}function Ri(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:i,isAnimationActive:n,animationBegin:l,animationDuration:s,animationEasing:f,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,v=vr(t,"recharts-bar-"),[k,h]=o.useState(!1),y=!k,g=o.useCallback(()=>{typeof c=="function"&&c(),h(!1)},[c]),x=o.useCallback(()=>{typeof u=="function"&&u(),h(!0)},[u]);return o.createElement(Bi,{showLabels:y,rects:a},o.createElement(mr,{animationId:v,begin:l,duration:s,isActive:n,easing:f,onAnimationEnd:g,onAnimationStart:x,key:v},P=>{var O=P===1?a:a?.map((w,b)=>{var p=d&&d[b];if(p)return z(z({},w),{},{x:Y(p.x,w.x,P),y:Y(p.y,w.y,P),width:Y(p.width,w.width,P),height:Y(p.height,w.height,P)});if(i==="horizontal"){var j=Y(0,w.height,P),S=Y(w.stackedBarStart,w.y,P);return z(z({},w),{},{y:S,height:j})}var C=Y(0,w.width,P),D=Y(w.stackedBarStart,w.x,P);return z(z({},w),{},{width:C,x:D})});return P>0&&(r.current=O??null),O==null?null:o.createElement(U,null,o.createElement(Mi,{props:t,data:O}))}),o.createElement(hr,{label:t.label}),t.children)}function Fi(e){var t=o.useRef(null);return o.createElement(Ri,{previousRectanglesRef:t,props:e})}var It=0,Ki=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:mt(e,t)}};class Wi extends o.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:i,xAxisId:n,yAxisId:l,needClip:s,background:f,id:c}=this.props;if(t||r==null)return null;var u=H("recharts-bar",i),d=c;return o.createElement(U,{className:u,id:c},s&&o.createElement("defs",null,o.createElement(Ja,{clipPathId:d,xAxisId:n,yAxisId:l})),o.createElement(U,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},o.createElement(zi,{data:r,dataKey:a,background:f,allOtherBarProps:this.props}),o.createElement(Fi,this.props)))}}var Gi={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:It,xAxisId:0,yAxisId:0,zIndex:ie.bar};function Yi(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:i,minPointSize:n,activeBar:l,animationBegin:s,animationDuration:f,animationEasing:c,isAnimationActive:u}=e,{needClip:d}=jt(t,r),v=cr(),k=fe(),h=ur(e.children,je),y=I(P=>yi(P,e.id,k,h));if(v!=="vertical"&&v!=="horizontal")return null;var g,x=y?.[0];return x==null||x.height==null||x.width==null?g=0:g=v==="vertical"?x.height/2:x.width/2,o.createElement(Za,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:Ki,errorBarOffset:g},o.createElement(Wi,W({},e,{layout:v,needClip:d,data:y,xAxisId:t,yAxisId:r,hide:a,legendType:i,minPointSize:n,activeBar:l,animationBegin:s,animationDuration:f,animationEasing:c,isAnimationActive:u})))}function Hi(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:i,bandSize:n,xAxis:l,yAxis:s,xAxisTicks:f,yAxisTicks:c,stackedData:u,displayedData:d,offset:v,cells:k,parentViewBox:h,dataStartIndex:y}=e,g=t==="horizontal"?s:l,x=u?g.scale.domain():null,P=dr({numericAxis:g}),O=g.scale.map(P);return d.map((w,b)=>{var p,j,S,C,D,se;if(u){var ce=u[b+y];if(ce==null)return null;p=fr(ce,x)}else p=mt(w,r),Array.isArray(p)||(p=[P,p]);var $=ti(a,It)(p[1],b);if(t==="horizontal"){var Q,ee=s.scale.map(p[0]),G=s.scale.map(p[1]);if(ee==null||G==null)return null;j=Ge({axis:l,ticks:f,bandSize:n,offset:i.offset,entry:w,index:b}),S=(Q=G??ee)!==null&&Q!==void 0?Q:void 0,C=i.size;var M=ee-G;if(D=yr(M)?0:M,se={x:j,y:v.top,width:C,height:v.height},Math.abs($)>0&&Math.abs(D)<Math.abs($)){var _=Oe(D||$)*(Math.abs($)-Math.abs(D));S-=_,D+=_}}else{var R=l.scale.map(p[0]),te=l.scale.map(p[1]);if(R==null||te==null)return null;if(j=R,S=Ge({axis:s,ticks:c,bandSize:n,offset:i.offset,entry:w,index:b}),C=te-R,D=i.size,se={x:v.left,y:S,width:v.width,height:D},Math.abs($)>0&&Math.abs(C)<Math.abs($)){var F=Oe(C||$)*(Math.abs($)-Math.abs(C));C+=F}}if(j==null||S==null||C==null||D==null)return null;var ge=z(z({},w),{},{stackedBarStart:O,x:j,y:S,width:C,height:D,value:u?p:p[1],payload:w,background:se,tooltipPosition:{x:j+C/2,y:S+D/2},parentViewBox:h},k&&k[b]&&k[b].props);return ge}).filter(Boolean)}function Xi(e){var t=ne(e,Gi),r=wi(t.stackId),a=fe();return o.createElement(ir,{id:t.id,type:"bar"},i=>o.createElement(o.Fragment,null,o.createElement(nr,{legendPayload:Ti(t)}),o.createElement(Li,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),o.createElement(lr,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),o.createElement(le,{zIndex:t.zIndex},o.createElement(Yi,W({},t,{id:i})))))}var Ce=o.memo(Xi,ft);Ce.displayName="Bar";var Vi=["domain","range"],Ui=["domain","range"];function Je(e,t){if(e==null)return{};var r,a,i=qi(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qi(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Qe(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Et(e,t){if(e===t)return!0;var{domain:r,range:a}=e,i=Je(e,Vi),{domain:n,range:l}=t,s=Je(t,Ui);return!Qe(r,n)||!Qe(a,l)?!1:ft(i,s)}var Zi=["type"],Ji=["dangerouslySetInnerHTML","ticks","scale"],Qi=["id","scale"];function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ie.apply(null,arguments)}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(a){en(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function en(e,t,r){return(t=tn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tn(e){var t=rn(e,"string");return typeof t=="symbol"?t:t+""}function rn(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ee(e,t){if(e==null)return{};var r,a,i=an(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function an(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function nn(e){var t=Be(),r=o.useRef(null),a=gt(),{type:i}=e,n=Ee(e,Zi),l=bt(a,"xAxis",i),s=o.useMemo(()=>{if(l!=null)return tt(tt({},n),{},{type:l})},[n,l]);return o.useLayoutEffect(()=>{s!=null&&(r.current===null?t(gr(s)):r.current!==s&&t(br({prev:r.current,next:s})),r.current=s)},[s,t]),o.useLayoutEffect(()=>()=>{r.current&&(t(kr(r.current)),r.current=null)},[t]),null}var ln=e=>{var{xAxisId:t,className:r}=e,a=I(ze),i=fe(),n="xAxis",l=I(x=>kt(x,n,t,i)),s=I(x=>wr(x,t)),f=I(x=>Pr(x,t)),c=I(x=>Or(x,t));if(s==null||f==null||c==null)return null;var{dangerouslySetInnerHTML:u,ticks:d,scale:v}=e,k=Ee(e,Ji),{id:h,scale:y}=c,g=Ee(c,Qi);return o.createElement(_e,Ie({},k,g,{x:f.x,y:f.y,width:s.width,height:s.height,className:H("recharts-".concat(n," ").concat(n),r),viewBox:a,ticks:l,axisType:n}))},on={allowDataOverflow:E.allowDataOverflow,allowDecimals:E.allowDecimals,allowDuplicatedCategory:E.allowDuplicatedCategory,angle:E.angle,axisLine:K.axisLine,height:E.height,hide:!1,includeHidden:E.includeHidden,interval:E.interval,label:!1,minTickGap:E.minTickGap,mirror:E.mirror,orientation:E.orientation,padding:E.padding,reversed:E.reversed,scale:E.scale,tick:E.tick,tickCount:E.tickCount,tickLine:K.tickLine,tickSize:K.tickSize,type:E.type,xAxisId:0},sn=e=>{var t=ne(e,on);return o.createElement(o.Fragment,null,o.createElement(nn,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),o.createElement(ln,t))},Nt=o.memo(sn,Et);Nt.displayName="XAxis";var cn=["type"],un=["dangerouslySetInnerHTML","ticks","scale"],dn=["id","scale"];function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ne.apply(null,arguments)}function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rt(Object(r),!0).forEach(function(a){fn(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fn(e,t,r){return(t=vn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vn(e){var t=mn(e,"string");return typeof t=="symbol"?t:t+""}function mn(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function De(e,t){if(e==null)return{};var r,a,i=hn(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hn(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function pn(e){var t=Be(),r=o.useRef(null),a=gt(),{type:i}=e,n=De(e,cn),l=bt(a,"yAxis",i),s=o.useMemo(()=>{if(l!=null)return at(at({},n),{},{type:l})},[l,n]);return o.useLayoutEffect(()=>{s!=null&&(r.current===null?t(jr(s)):r.current!==s&&t(Ar({prev:r.current,next:s})),r.current=s)},[s,t]),o.useLayoutEffect(()=>()=>{r.current&&(t(Sr(r.current)),r.current=null)},[t]),null}function xn(e){var{yAxisId:t,className:r,width:a,label:i}=e,n=o.useRef(null),l=o.useRef(null),s=I(ze),f=fe(),c=Be(),u="yAxis",d=I(p=>Cr(p,t)),v=I(p=>Ir(p,t)),k=I(p=>kt(p,u,t,f)),h=I(p=>Er(p,t));if(o.useLayoutEffect(()=>{if(!(a!=="auto"||!d||Nr(i)||o.isValidElement(i)||h==null)){var p=n.current;if(p){var j=p.getCalculatedWidth();Math.round(d.width)!==Math.round(j)&&c(Dr({id:t,width:j}))}}},[k,d,c,i,t,a,h]),d==null||v==null||h==null)return null;var{dangerouslySetInnerHTML:y,ticks:g,scale:x}=e,P=De(e,un),{id:O,scale:w}=h,b=De(h,dn);return o.createElement(_e,Ne({},P,b,{ref:n,labelRef:l,x:v.x,y:v.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:d.width,height:d.height,className:H("recharts-".concat(u," ").concat(u),r),viewBox:s,ticks:k,axisType:u}))}var yn={allowDataOverflow:N.allowDataOverflow,allowDecimals:N.allowDecimals,allowDuplicatedCategory:N.allowDuplicatedCategory,angle:N.angle,axisLine:K.axisLine,hide:!1,includeHidden:N.includeHidden,interval:N.interval,label:!1,minTickGap:N.minTickGap,mirror:N.mirror,orientation:N.orientation,padding:N.padding,reversed:N.reversed,scale:N.scale,tick:N.tick,tickCount:N.tickCount,tickLine:K.tickLine,tickSize:K.tickSize,type:N.type,width:N.width,yAxisId:0},gn=e=>{var t=ne(e,yn);return o.createElement(o.Fragment,null,o.createElement(pn,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),o.createElement(xn,t))},Dt=o.memo(gn,Et);Dt.displayName="YAxis";function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Te.apply(null,arguments)}var bn={top:5,right:5,bottom:5,left:5},kn={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:bn,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},wn=o.forwardRef(function(t,r){var a,i=ne(t.categoricalChartProps,kn),{chartName:n,defaultTooltipEventType:l,validateTooltipEventTypes:s,tooltipPayloadSearcher:f,categoricalChartProps:c}=t,u={chartName:n,defaultTooltipEventType:l,validateTooltipEventTypes:s,tooltipPayloadSearcher:f,eventEmitter:void 0};return o.createElement(Tr,{preloadedState:{options:u},reduxStoreName:(a=c.id)!==null&&a!==void 0?a:n},o.createElement(Lr,{chartData:c.data}),o.createElement(zr,{layout:i.layout,margin:i.margin}),o.createElement(Br,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),o.createElement($r,Te({},i,{ref:r})))}),Pn=["axis","item"],On=o.forwardRef((e,t)=>o.createElement(wn,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pn,tooltipPayloadSearcher:_r,categoricalChartProps:e,ref:t}));function jn({labs:e}){if(!e||e.length===0)return m.jsx("div",{className:"flex items-center justify-center h-64 text-slate-500 dark:text-slate-400",children:"No lab data available"});const t=e.slice(0,10).map(r=>{const a=r?.started||0,i=r?.completed||0,n=Math.max(0,a-i),l=a>0?Math.round(i/a*100):0;return{name:r?.title?.en||r?.labId||"Unknown",shortName:Sn(r?.title?.en||r?.labId||"Unknown",15),completed:i,dropOff:n,completionRate:l,started:a}});return m.jsx("div",{className:"w-full h-80",children:m.jsx(Mr,{width:"100%",height:"100%",children:m.jsxs(On,{data:t,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[m.jsx(Ot,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),m.jsx(Nt,{type:"number",stroke:"#94a3b8",fontSize:12}),m.jsx(Dt,{type:"category",dataKey:"shortName",width:120,stroke:"#94a3b8",fontSize:11,tick:{fill:"#94a3b8"}}),m.jsx(Rr,{content:m.jsx(An,{}),cursor:{fill:"rgba(255,255,255,0.05)"}}),m.jsx(Fr,{wrapperStyle:{paddingTop:10},formatter:r=>m.jsx("span",{className:"text-slate-600 dark:text-slate-300 text-sm",children:r})}),m.jsx(Ce,{dataKey:"completed",name:"Completed",stackId:"a",radius:[0,0,0,0],children:t.map((r,a)=>m.jsx(je,{fill:"#10b981"},`cell-completed-${a}`))}),m.jsx(Ce,{dataKey:"dropOff",name:"Drop-off",stackId:"a",radius:[0,4,4,0],children:t.map((r,a)=>m.jsx(je,{fill:"#f43f5e"},`cell-dropoff-${a}`))})]})})})}function An({active:e,payload:t,label:r}){if(!e||!t||!t.length)return null;const a=t[0]?.payload;return a?m.jsxs("div",{className:"rounded-xl border border-white/20 bg-slate-900/95 backdrop-blur-sm px-4 py-3 shadow-xl",children:[m.jsx("p",{className:"font-semibold text-white mb-2",children:a.name}),m.jsxs("div",{className:"space-y-1 text-sm",children:[m.jsxs("p",{className:"text-slate-300",children:["Started: ",m.jsx("span",{className:"font-medium text-white",children:a.started})]}),m.jsxs("p",{className:"text-emerald-400",children:["Completed: ",m.jsx("span",{className:"font-medium",children:a.completed})]}),m.jsxs("p",{className:"text-rose-400",children:["Drop-off: ",m.jsx("span",{className:"font-medium",children:a.dropOff})]}),m.jsxs("p",{className:"text-fuchsia-400",children:["Rate: ",m.jsxs("span",{className:"font-medium",children:[a.completionRate,"%"]})]})]})]}):null}function Sn(e,t){return e.length<=t?e:e.slice(0,t-1)+"…"}function Dn(){const{address:e}=Kr(),[t]=Bt(),[r,a]=o.useState(null),[i,n]=o.useState(null),[l,s]=o.useState(t.get("sort")||"dropoff"),[f,c]=o.useState(t.get("dir")||"desc"),u=()=>{e&&$t(e).then(b=>{Array.isArray(b)?a(b):b?.labs&&Array.isArray(b.labs)?a(b.labs):a([]),n(null)}).catch(()=>n("Not authorized"))};if(o.useEffect(()=>{u()},[e]),i)return m.jsxs("div",{className:"max-w-4xl rounded-2xl border border-red-500/30 bg-red-500/10 text-red-200 px-6 py-4 space-y-3",children:[m.jsx("div",{children:i}),m.jsx("button",{type:"button",onClick:u,className:"rounded-lg border border-red-300/40 bg-red-500/20 px-3 py-1.5 text-sm",children:"Retry"})]});if(!r)return m.jsx("div",{className:"max-w-4xl rounded-2xl border border-white/10 bg-white/70 dark:bg-[#0b0f17]/80 backdrop-blur-xl px-6 py-4 text-slate-700 dark:text-slate-200",children:"Loading lab analytics…"});const d=b=>{if(typeof b?.completionRate=="number")return b.completionRate;const p=b?.started||0,j=b?.completed||0;return p<=0?0:j/p},v=b=>{const p=b?.started||0,j=b?.completed||0;return p<=0?0:Math.max(0,(p-j)/p)},k=b=>{const p=Number(b?.avgCompletionTimeMinutes);return Number.isFinite(p)?p:-1},y=[...t.get("risk")==="dropoff"?r.filter(b=>v(b)>.15):r].sort((b,p)=>{const j=f==="asc"?1:-1;return l==="completion"?j*(d(b)-d(p)):l==="dropoff"?j*(v(b)-v(p)):l==="avgDuration"?j*(k(b)-k(p)):l==="started"?j*((b?.started||0)-(p?.started||0)):0}),g=r.length?[...r].sort((b,p)=>d(p)-d(b))[0]:null,x=r.length?[...r].sort((b,p)=>v(p)-v(b))[0]:null,P=r.length?[...r].sort((b,p)=>k(p)-k(b))[0]:null,O=b=>{const p=Number(b);return!Number.isFinite(p)||p<0?"—":`${Math.round(p)} min`},w=b=>b?.title?.en||b?.labId||"—";return m.jsxs("div",{className:"relative min-h-[calc(100vh-8rem)]",children:[m.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[m.jsx("div",{className:"absolute -top-32 left-1/2 h-[420px] w-[420px] -translate-x-1/2 rounded-full bg-[#8A57FF]/25 blur-[140px]"}),m.jsx("div",{className:"absolute top-1/3 -right-24 h-[360px] w-[360px] rounded-full bg-[#4ACBFF]/20 blur-[140px]"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-8%] h-[320px] w-[320px] rounded-full bg-[#FF67D2]/15 blur-[130px]"})]}),m.jsxs("div",{className:"relative z-10 space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight bg-gradient-to-r from-[#FF67D2] via-[#8A57FF] to-[#4ACBFF] text-transparent bg-clip-text",children:"Labs Summary"}),m.jsx("p",{className:"text-base text-slate-600 dark:text-slate-300 mt-2",children:"Completion statistics and per-lab insights"})]}),m.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/70 dark:bg-[#0b0f17]/80 backdrop-blur-xl shadow-[0_24px_70px_rgba(15,23,42,0.18)] p-6",children:[m.jsxs("div",{className:"mb-4 rounded-xl border border-yellow-400/50 bg-yellow-50/80 p-4 text-yellow-900 dark:border-yellow-600/40 dark:bg-yellow-950/30 dark:text-yellow-200",role:"alert",children:[m.jsx("strong",{className:"font-semibold",children:"Notice:"})," Lab start and completion are tracked separately. Drop-off reflects users who started but did not complete a lab."]}),m.jsxs("div",{className:"mb-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Sort by:"}),m.jsxs("select",{value:l,onChange:b=>s(b.target.value),className:"rounded-xl border border-slate-300/70 bg-white/90 px-3 py-2 text-sm text-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-fuchsia-400/40 dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-100",children:[m.jsx("option",{value:"completion",children:"Completion %"}),m.jsx("option",{value:"dropoff",children:"Drop-off %"}),m.jsx("option",{value:"avgDuration",children:"Avg duration"}),m.jsx("option",{value:"started",children:"Total started"})]})]}),m.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-3 md:grid-cols-3",children:[m.jsx(ke,{label:"Highest completion lab",title:w(g),value:`${Math.round(d(g)*100)}%`}),m.jsx(ke,{label:"Worst drop-off lab",title:w(x),value:`${Math.round(v(x)*100)}%`}),m.jsx(ke,{label:"Longest average duration lab",title:w(P),value:O(P?.avgCompletionTimeMinutes)})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Completion vs Drop-off (Top 10 Labs)"}),m.jsx("div",{className:"rounded-xl border border-white/10 bg-white/60 dark:bg-[#111827]/60 p-4",children:m.jsx(jn,{labs:y})})]}),m.jsx(Vr,{labs:y}),y.length===0&&m.jsx("div",{className:"mt-4 rounded-xl border border-amber-300/40 bg-amber-50/70 dark:bg-amber-900/10 p-4 text-amber-900 dark:text-amber-200",children:"No labs matched this filter. Try refreshing or removing risk-only scope."})]})]})]})}function ke({label:e,title:t,value:r}){return m.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/80 p-4 dark:bg-[#111827]/70",children:[m.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-400",children:e}),m.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900 dark:text-slate-100",children:t}),m.jsx("p",{className:"mt-1 text-base font-bold text-fuchsia-700 dark:text-fuchsia-300",children:r})]})}export{Dn as default};
