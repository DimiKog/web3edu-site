import{r as l,j as e}from"./react-vendor-B6F11S4b.js";import{P as W}from"./PageShell-DmAWanav.js";import{F as $}from"./FeedbackModal-bKeg6ls-.js";import{u as I,a as R}from"./web3-vendor-tXzdH6Yl.js";const _={breadcrumbLabs:"Labs",overview:"",level:"Level",estimatedTime:"Estimated time",tools:"Tools used",prerequisites:"Prerequisites",startLab:"Start Lab ‚Üí",startLabHint:"Opens full step-by-step guide",startLabInteractionHint:"Opens interactive lab inside Web3Edu",conceptualFocus:"Conceptual focus",heroCaption:"Web3 identity emerges from cryptographic wallets and network context",headerPill:"üß™ Web3Edu ¬∑ Foundational Lab",completedBadge:"‚úì Completed",checkingStatus:"Checking completion status‚Ä¶",completedOn:"Completed on:",completionTitle:"Lab completion",completionDescription:"After completing the lab, sign a message to record your progress on Web3Edu.",claimButton:"‚úÖ Claim completion",claimingButton:"Signing‚Ä¶",successMessage:"‚úî Completion recorded successfully",walletNotConnectedError:"Wallet not connected",labIdMissingError:"Lab ID missing",backendError:"Failed to record completion"},V=({labId:r,title:d="Lab 01 ‚Äî Wallets & Web3 Identity",subtitle:y="Understand wallets, addresses, and identity before transactions",heroImage:h=null,level:C="Beginner",estimatedTime:L="30‚Äì40 minutes",xp:i=null,badge:o=null,tools:S=["Network Identifier","Address Anatomy","Identity Scope Visualizer"],prerequisites:E=["Modern browser (Chrome / Firefox / Brave)","Browser wallet (MetaMask or equivalent)","Besu Edu‚ÄëNet RPC details"],interactionPath:u=null,readmeUrl:T="https://github.com/dimikog/web3edu-labs/blob/main/lab-01-wallets-identity/README.md",conceptualFocusText:B="",labels:F={}})=>{const t={..._,...F},A=window.location.hash.includes("/labs-gr/")?"gr":"en",{address:n,isConnected:b}=I(),{signMessageAsync:M}=R(),[g,f]=l.useState(!1),[c,k]=l.useState(!1),[j,m]=l.useState(null),[N,p]=l.useState(!0),[w,O]=l.useState(null),[P,v]=l.useState(!1);l.useEffect(()=>{if(!b||!n||!r){p(!1);return}(async()=>{try{const s=await fetch(`https://web3edu-api.dimikog.org/labs/status?address=${n}&labId=${r}`);if(!s.ok){p(!1);return}const x=await s.json();x.completed===!0&&(k(!0),O(x.completedAt||null))}catch(s){console.warn("Failed to restore lab completion state",s)}finally{p(!1)}})()},[b,n,r]);const D=async()=>{if(!c){if(!b||!n){m(t.walletNotConnectedError);return}if(!r){m(t.labIdMissingError);return}f(!0),m(null);try{const a=new Date().toISOString(),s=`I confirm completion of Web3Edu Lab
Lab ID: ${r}
Address: ${n}
Timestamp: ${a}`,x=await M({message:s});if(!(await fetch("https://web3edu-api.dimikog.org/labs/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:n,labId:r,message:s,signature:x})})).ok)throw new Error("Backend rejected completion");k(!0),v(!0),setTimeout(()=>{document.getElementById("lab-completion")?.scrollIntoView({behavior:"smooth",block:"center"})},200)}catch(a){console.error(a),m(t.backendError)}finally{f(!1)}}};return e.jsx(W,{children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("nav",{className:"mb-6 text-sm text-slate-500 dark:text-slate-400",children:[e.jsx("span",{className:"hover:underline cursor-default",children:t.breadcrumbLabs}),e.jsx("span",{className:"mx-2",children:"‚Üí"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:d})]}),e.jsxs("header",{className:"mb-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full
                            bg-indigo-100/70 dark:bg-indigo-900/40
                            text-sm font-semibold tracking-wide
                            text-indigo-700 dark:text-indigo-300`,children:t.headerPill}),c&&e.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full
                                bg-green-100 dark:bg-green-900/40
                                text-sm font-semibold
                                text-green-700 dark:text-green-300
                                animate-in fade-in zoom-in-95 duration-300`,children:t.completedBadge})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight mb-3",children:d}),e.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-2xl",children:y})]}),e.jsx("hr",{className:"mb-10 border-slate-200/70 dark:border-slate-700/60"}),h&&e.jsx("div",{className:`mb-12 rounded-3xl overflow-hidden
                        border border-slate-200/70 dark:border-slate-700/60
                        bg-gradient-to-br from-indigo-50/60 via-purple-50/40 to-blue-50/60
                        dark:from-slate-900 dark:via-indigo-950/40 dark:to-slate-900
                        shadow-xl`,children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("img",{src:h,alt:`${d} visual overview`,className:`mx-auto max-w-3xl w-full h-auto object-contain
                                   drop-shadow-[0_20px_40px_rgba(80,60,200,0.35)]`}),e.jsx("p",{className:"mt-4 text-center text-xs text-slate-500 dark:text-slate-400",children:t.heroCaption})]})}),e.jsxs("section",{className:`mb-10 rounded-2xl border border-slate-200/70 dark:border-slate-700/60
                    bg-slate-50/60 dark:bg-slate-900/40 p-6`,children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:["üß† ",e.jsxs("span",{className:"font-semibold",children:[t.conceptualFocus,":"]})," ",B]}),e.jsx($,{isOpen:P,onClose:()=>v(!1),labId:r,labTitle:d,labType:"foundation",language:A,onSubmit:async a=>{try{await fetch("https://web3edu-api.dimikog.org/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}catch(s){console.warn("Feedback submission failed",s)}}})]}),e.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-12",children:[e.jsxs("div",{className:`rounded-xl border border-slate-200/70 dark:border-slate-700/60
                        bg-white/80 dark:bg-slate-900/60 p-5`,children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:t.level}),e.jsxs("div",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["üß≠ ",C]})]}),e.jsxs("div",{className:`rounded-xl border border-slate-200/70 dark:border-slate-700/60
                        bg-white/80 dark:bg-slate-900/60 p-5`,children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:t.estimatedTime}),e.jsxs("div",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["‚è±Ô∏è ",L]})]}),i&&e.jsxs("div",{className:`rounded-xl border border-slate-200/70 dark:border-slate-700/60
                        bg-white/80 dark:bg-slate-900/60 p-5`,children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"XP"}),e.jsxs("div",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["‚≠ê ",i]})]}),o&&e.jsxs("div",{className:`rounded-xl border border-slate-200/70 dark:border-slate-700/60
                        bg-white/80 dark:bg-slate-900/60 p-5`,children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Badge"}),e.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-100",children:o})]})]}),e.jsxs("section",{className:`mb-10 rounded-2xl border border-slate-200/70 dark:border-slate-700/60
                    bg-white/80 dark:bg-slate-900/60 p-6`,children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t.tools}),e.jsx("ul",{className:"space-y-2 text-slate-700 dark:text-slate-300",children:S.map((a,s)=>e.jsxs("li",{className:"flex items-center gap-2",children:["üõ†Ô∏è ",e.jsx("span",{children:a})]},s))})]}),e.jsxs("section",{className:`mb-10 rounded-2xl border border-slate-200/70 dark:border-slate-700/60
                    bg-white/80 dark:bg-slate-900/60 p-6`,children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t.prerequisites}),e.jsx("ul",{className:"space-y-2 text-slate-700 dark:text-slate-300",children:E.map((a,s)=>e.jsxs("li",{className:"flex items-center gap-2",children:["‚ö†Ô∏è ",e.jsx("span",{children:a})]},s))})]}),e.jsx("div",{className:"flex justify-center mt-12",children:u?e.jsxs("a",{href:`/#${u}`,className:`inline-flex flex-col items-center gap-1 px-8 py-4 rounded-xl
                            bg-gradient-to-r from-indigo-600 to-violet-600
                            text-white font-semibold text-lg
                            hover:from-indigo-500 hover:to-violet-500
                            hover:scale-[1.02]
                            transition-all duration-200 shadow-xl`,children:[e.jsx("span",{children:t.startLab}),e.jsx("span",{className:"text-xs opacity-90",children:t.startLabInteractionHint})]}):e.jsxs("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:`inline-flex flex-col items-center gap-1 px-8 py-4 rounded-xl
                            bg-gradient-to-r from-indigo-600 to-violet-600
                            text-white font-semibold text-lg
                            hover:from-indigo-500 hover:to-violet-500
                            hover:scale-[1.02]
                            transition-all duration-200 shadow-xl`,children:[e.jsx("span",{children:t.startLab}),e.jsx("span",{className:"text-xs opacity-90",children:t.startLabHint})]})}),e.jsxs("section",{className:`mt-14 rounded-2xl border border-indigo-200/50 dark:border-indigo-700/40
                    bg-indigo-50/60 dark:bg-indigo-900/20 p-6`,children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.completionTitle}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:t.completionDescription}),N&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center",children:t.checkingStatus}),!c&&!N?e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:D,disabled:g,className:`px-6 py-3 rounded-xl font-semibold text-white
                                ${g?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500"}`,children:g?t.claimingButton:t.claimButton})}):c?e.jsxs("div",{id:"lab-completion",className:`rounded-xl border border-green-300/60 dark:border-green-700/40
                            bg-green-50 dark:bg-green-900/20 p-4
                            animate-in fade-in zoom-in-95 duration-300
                            text-center`,children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 text-green-700 dark:text-green-400 font-semibold",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-500 text-white animate-bounce",children:"‚úì"}),e.jsx("span",{children:t.successMessage})]}),(i||o)&&e.jsxs("div",{className:"text-sm mt-1 text-green-700 dark:text-green-300",children:[i&&e.jsxs(e.Fragment,{children:["‚≠ê +",i," XP"]})," ",o&&e.jsxs(e.Fragment,{children:[" ¬∑ üèÖ ",o]})]}),w&&e.jsxs("div",{className:"text-xs mt-1 text-green-600 dark:text-green-400",children:[t.completedOn," ",new Date(w).toLocaleString()]})]}):null,j&&e.jsx("p",{className:"mt-3 text-sm text-red-600 dark:text-red-400",children:j})]})]})})};export{V as L};
