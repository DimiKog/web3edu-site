import{r as a,j as e,L as I}from"./vendor-react-XZtyZRd7.js";import{P as U,S as D}from"./index-WtP7ZXML.js";import{J as M,f as A,B as P}from"./vendor-web3-Dys35WFk.js";function b(){const[l,y]=a.useState(""),[j,k]=a.useState(""),[N,p]=a.useState(""),[c,v]=a.useState(""),[f,s]=a.useState(""),[C,d]=a.useState(!1),[h,u]=a.useState(!1),m="https://rpc.dimikog.org/rpc/",S="Besu EduNet",E=424242,x="0x67932",o="EDU-D";a.useEffect(()=>{async function r(){try{const n=await(await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_chainId",params:[],id:1})})).json();n.result&&v(n.result)}catch(t){console.error("Failed to detect chainId:",t)}}r()},[]);async function B(){try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:x}]}),!0}catch(r){if(r.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:x,chainName:S,nativeCurrency:{name:"EduCoin-Dev",symbol:o,decimals:18},rpcUrls:[m],blockExplorerUrls:["https://blockexplorer.dimikog.org"]}]}),!0}catch(t){console.error("Error adding Besu EduNet:",t),s("Could not add Besu EduNet to MetaMask.")}else console.error("Network switch error:",r),s("Network change was rejected or failed.");return!1}}async function g(r){try{u(!0);const n=await new M(m).getBalance(r),i=A(n);k(i),u(!1)}catch(t){console.error("Error fetching balance:",t),s("Could not refresh balance."),u(!1)}}async function _(){try{if(!window.ethereum){s("MetaMask not detected. Please install it first.");return}if(!await B())return;const t=new P(window.ethereum),i=await(await t.getSigner()).getAddress(),w=await t.getNetwork();Number(w.chainId)!==E?(p(`‚ö†Ô∏è Wrong network (ID ${Number(w.chainId)}).`),d(!1)):(p("‚úÖ Connected successfully to Besu EduNet"),d(!0)),y(i),await g(i),s("")}catch(r){console.error(r),s("Connection failed. Check MetaMask and try again."),d(!1)}}return e.jsxs(U,{children:[e.jsxs("div",{"aria-hidden":"true",className:"fixed inset-0 -z-10 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-32 -left-32 w-[480px] h-[480px] rounded-full bg-gradient-to-tr from-purple-600 via-indigo-600 to-pink-600 opacity-30 blur-3xl animate-glowSlow"}),e.jsx("div",{className:"absolute -bottom-40 -right-40 w-[600px] h-[600px] rounded-full bg-gradient-to-tr from-pink-500 via-purple-500 to-indigo-500 opacity-20 blur-3xl animate-glowSlow delay-2000"}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full stroke-[0.5] stroke-gray-700/10 dark:stroke-gray-400/10","aria-hidden":"true",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",x:"50%",y:"50%",children:e.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})]}),e.jsxs("main",{className:"max-w-3xl mx-auto px-6 pt-16 pb-24",children:[e.jsx(D,{className:"mb-6",children:"Network Check"}),e.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-indigo-500 to-pink-500 mb-12 animate-fadeUp",children:"Connect to Besu EduNet"}),e.jsxs("div",{className:"bg-gradient-to-tr from-[#0A0F1A]/80 via-[#111626]/80 to-[#131B2D]/80 border border-[#8A57FF]/20 backdrop-blur-md rounded-3xl p-8 shadow-lg space-y-10",style:{minHeight:"480px"},children:[e.jsxs("section",{className:"bg-[#1B2238]/50 rounded-2xl p-6 text-blue-400 text-sm leading-relaxed space-y-3 shadow-inner shadow-blue-900/20 animate-fadeUp",style:{animationDelay:"100ms"},children:[e.jsxs("p",{children:["Use this tool to confirm you‚Äôre connected to ",e.jsx("strong",{children:"Besu EduNet"})," and check your balance in ",e.jsx("strong",{children:o}),"."]}),e.jsxs("p",{children:["If you just received tokens from the faucet, press ",e.jsx("em",{children:"‚Üª Refresh"})," to update."]})]}),e.jsx("section",{className:"flex justify-center",style:{animationDelay:"200ms"},children:e.jsx("button",{onClick:_,className:"inline-flex items-center justify-center rounded-lg bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-700 px-6 py-3 font-semibold text-white shadow-md transition hover:brightness-110 focus:outline-none focus:ring-4 focus:ring-indigo-500/50",type:"button",children:"Connect Wallet"})}),l&&e.jsxs("section",{className:"text-gray-300 space-y-5 animate-fadeUp",style:{animationDelay:"300ms"},children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"break-all",children:[e.jsx("strong",{children:"Address:"})," ",l]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Balance:"})," ",j," ",o]}),e.jsx("button",{onClick:()=>g(l),disabled:h,className:`ml-2 inline-flex items-center gap-1 rounded-md px-3 py-1 text-sm font-medium transition ${h?"bg-gray-600 cursor-not-allowed text-gray-400":"bg-emerald-600 hover:bg-emerald-700 text-white"}`,type:"button","aria-label":"Refresh balance",children:h?"Refreshing...":"‚Üª Refresh"})]}),e.jsxs("p",{className:"text-xs italic text-gray-400",children:["If MetaMask shows 0 ",o,", treat this value as the correct network balance."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",N]})]}),f&&e.jsx("p",{className:"text-red-500 text-sm font-medium",children:f}),c&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Detected Chain ID: ",parseInt(c,16)," (",c,")"]})]}),C&&e.jsx("div",{className:"mt-6 rounded-full bg-green-600/80 px-6 py-3 text-center text-white font-semibold shadow-lg animate-fadeUp glow",children:"‚úÖ You're connected to Besu EduNet! Balance updates directly from the RPC."})]})]}),e.jsx("div",{className:"mt-10 flex justify-center animate-fadeUp",children:e.jsx(I,{to:"/start-here",className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-purple-600 via-pink-500 to-indigo-600 px-6 py-3 font-semibold text-white shadow-lg transition hover:brightness-110 hover:shadow-[0_0_20px_rgba(168,85,247,0.6)]",children:"üè† Back to Start Here"})}),e.jsx("style",{children:`
                @keyframes fadeUp {
                    0% {
                        opacity: 0;
                        transform: translateY(10px);
                    }
                    100% {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                .animate-fadeUp {
                    animation: fadeUp 0.6s ease forwards;
                }
                @keyframes glowSlow {
                    0%, 100% {
                        filter: blur(60px);
                        opacity: 0.3;
                        transform: translateY(0) translateX(0);
                    }
                    50% {
                        filter: blur(80px);
                        opacity: 0.4;
                        transform: translateY(10px) translateX(10px);
                    }
                }
                .animate-glowSlow {
                    animation: glowSlow 10s ease-in-out infinite;
                }
                .glow {
                    filter: drop-shadow(0 0 8px rgba(34,197,94,0.7)) drop-shadow(0 0 12px rgba(34,197,94,0.5));
                }
            `})]})}const Y=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"})),L=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));export{L as a,Y as n};
